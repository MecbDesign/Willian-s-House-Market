<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Willian’s House Market</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="img/logo.png">
</head>
<body>
    <header class="header">
        <div class="container header-content">
            <img src="img/logo.png" alt="Logo Willian’s House Market" class="logo">
            <div class="header-text">
                <h1>Willian’s House Market</h1>
                <p class="slogan">"Tu tienda de confianza, frescura y calidad en cada producto"</p>
            </div>
        </div>
        <div class="hamburger-menu" id="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <nav class="navbar">
            <ul class="nav-menu" id="nav-menu">
                <li><a href="#products">Productos</a></li>
                <li><a href="#contact">Contacto</a></li>
                <li><a href="about.html">Nosotros</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="products" class="products section">
            <div class="container">
                <h2 class="section-title">Nuestros Productos</h2>
                <div class="products-list">
                    <!-- Carrusel de Charcutería -->
                    <div class="product-carousel">
                        <h3 class="carousel-title">Charcutería</h3>
                        <div class="carousel-container charcuteria">
                            <button class="carousel-arrow prev" onclick="changeSlide('charcuteria', -1)">‹</button>
                            <div class="carousel-slides" id="charcuteria-slides">
                                <div class="carousel-slide active">
                                    <div class="carousel-item">
                                        <img src="img/productos/charcuteria/cartondehuevos.jpg" alt="Cartón de huevos">
                                        <p>Cartón de huevos</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/charcuteria/cubitos.jpg" alt="Cubitos">
                                        <p>Cubitos</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/charcuteria/mediocartondehuevos.jpg" alt="Medio cartón de huevos">
                                        <p>Medio cartón de huevos</p>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-arrow next" onclick="changeSlide('charcuteria', 1)">›</button>
                            <div class="carousel-dots" id="charcuteria-dots">
                                <span class="dot active" onclick="goToSlide('charcuteria', 0)"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Carrusel de Limpieza -->
                    <div class="product-carousel">
                        <h3 class="carousel-title">Limpieza</h3>
                        <div class="carousel-container">
                            <button class="carousel-arrow prev" onclick="changeSlide('limpieza', -1)">‹</button>
                            <div class="carousel-slides" id="limpieza-slides">
                                <div class="carousel-slide active">
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliveazul1kg.jpg" alt="Alive azul 1kg">
                                        <p>Alive azul 1kg</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliveazul500gr.jpg" alt="Alive azul 500gr">
                                        <p>Alive azul 500gr</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliveblanco1kg.jpg" alt="Alive blanco 1kg">
                                        <p>Alive blanco 1kg</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliveblanco500gr.jpg" alt="Alive blanco 500gr">
                                        <p>Alive blanco 500gr</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/alivemorado1kg.jpg" alt="Alive morado 1kg">
                                        <p>Alive morado 1kg</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/alivemorado500gr.jpg" alt="Alive morado 500gr">
                                        <p>Alive morado 500gr</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliverosa1kg.jpg" alt="Alive rosado 1kg">
                                        <p>Alive rosado 1kg</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliverosa500gr.jpg" alt="Alive rosado 500gr">
                                        <p>Alive rosado 500gr</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliveverde1kg.jpg" alt="Alive verde 1kg">
                                        <p>Alive verde 1kg</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/aliveverde500gr.jpg" alt="Alive verde 500gr">
                                        <p>Alive verde 500gr</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/cremaalidentazul.jpg" alt="Crema Alident azul">
                                        <p>Crema Alident azul</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/cremaalidentverde.jpg" alt="Crema Alident verde">
                                        <p>Crema Alident verde</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/cremacolgate.jpg" alt="Crema Colgate">
                                        <p>Crema Colgate</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/pestrobarba.jpg" alt="Pestrobarba">
                                        <p>Pestrobarba</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/rosalrojo.jpg" alt="Papel toalet Rosal rojo">
                                        <p>Papel toalet Rosal rojo</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/rosalverde.jpg" alt="Papel toalet Rosal verde">
                                        <p>Papel toalet Rosal verde</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/toaletelite.jpg" alt="Papel toalet Elite">
                                        <p>Papel toalet Elite</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/toaletluciano.jpg" alt="Papel toalet Luciano">
                                        <p>Papel toalet Luciano</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/limpieza/toallincaricias.jpg" alt="Toallin Caricias">
                                        <p>Toallin Caricias</p>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-arrow next" onclick="changeSlide('limpieza', 1)">›</button>
                            <div class="carousel-dots" id="limpieza-dots">
                                <span class="dot active" onclick="goToSlide('limpieza', 0)"></span>
                                <span class="dot" onclick="goToSlide('limpieza', 1)"></span>
                                <span class="dot" onclick="goToSlide('limpieza', 2)"></span>
                                <span class="dot" onclick="goToSlide('limpieza', 3)"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Carrusel de Repostería -->
                    <div class="product-carousel">
                        <h3 class="carousel-title">Repostería</h3>
                        <div class="carousel-container">
                            <button class="carousel-arrow prev" onclick="changeSlide('reposteria', -1)">‹</button>
                            <div class="carousel-slides" id="reposteria-slides">
                                <div class="carousel-slide active">
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/avena.jpg" alt="Avena">
                                        <p>Avena</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/bicarbonato.jpg" alt="Bicarbonato">
                                        <p>Bicarbonato</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/cacao.jpg" alt="Cacao">
                                        <p>Cacao</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/canela.jpg" alt="Canela">
                                        <p>Canela</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/flanenpolvo.jpg" alt="Flan en polvo">
                                        <p>Flan en polvo</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/gfresa.jpg" alt="Gelatina de fresa">
                                        <p>Gelatina de fresa</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/glimon.jpg" alt="Gelatina de limón">
                                        <p>Gelatina de limón</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/gnaranja.jpg" alt="Gelatina de naranja">
                                        <p>Gelatina de naranja</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/gpiña.jpg" alt="Gelatina de piña">
                                        <p>Gelatina de piña</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/gtutifruti.jpg" alt="Gelatina de tutifruti">
                                        <p>Gelatina de tutifruti</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/guva.jpg" alt="Gelatina de uva">
                                        <p>Gelatina de uva</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/gsinsabor.jpg" alt="Gelatina sin sabor">
                                        <p>Gelatina sin sabor</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/gotasdechocolate.jpg" alt="Gotas de chocolate">
                                        <p>Gotas de chocolate</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/levadura.jpg" alt="Levadura">
                                        <p>Levadura</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/lluviadechocolate.jpg" alt="Lluvia de chocolate">
                                        <p>Lluvia de chocolate</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/lluviadechocolatecarnaval.jpg" alt="Lluvia de chocolate carnaval">
                                        <p>Lluvia de chocolate carnaval</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/reposteria/polvodehornear.jpg" alt="Polvo de hornear">
                                        <p>Polvo de hornear</p>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-arrow next" onclick="changeSlide('reposteria', 1)">›</button>
                            <div class="carousel-dots" id="reposteria-dots">
                                <span class="dot active" onclick="goToSlide('reposteria', 0)"></span>
                                <span class="dot" onclick="goToSlide('reposteria', 1)"></span>
                                <span class="dot" onclick="goToSlide('reposteria', 2)"></span>
                                <span class="dot" onclick="goToSlide('reposteria', 3)"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Carrusel de Otros Productos -->
                    <div class="product-carousel">
                        <h3 class="carousel-title">Otros Productos</h3>
                        <div class="carousel-container">
                            <button class="carousel-arrow prev" onclick="changeSlide('otros', -1)">‹</button>
                            <div class="carousel-slides" id="otros-slides">
                                <div class="carousel-slide active">
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/aceitecoamo.jpg" alt="Aceite Coamo">
                                        <p>Aceite Coamo</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/aceiteconcorvado.jpg" alt="Aceite Concorvado">
                                        <p>Aceite Concorvado</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/aceiteesoya.jpg" alt="Aceite Soya">
                                        <p>Aceite Soya</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/aceitevatel.jpg" alt="Aceite Vatel">
                                        <p>Aceite Vatel</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/arrozaguablanca.jpg" alt="Arroz Agua Blanca">
                                        <p>Arroz Agua Blanca</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/arrozmary.jpg" alt="Arroz Mary">
                                        <p>Arroz Mary</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/arrozpremium.jpg" alt="Arroz Mary Premium">
                                        <p>Arroz Mary Premium</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/azucarmaite.jpg" alt="Azúcar Maite">
                                        <p>Azúcar Maite</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/azucarmontalban.jpg" alt="Azúcar Montalban">
                                        <p>Azúcar Montalban</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/cafe.jpg" alt="Café">
                                        <p>Café</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/belmont.jpg" alt="Belmont">
                                        <p>Belmont</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/consul.jpg" alt="Consul">
                                        <p>Consul</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/pallmall.jpg" alt="Pall Mall">
                                        <p>Pall Mall</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/universal.jpg" alt="Universal">
                                        <p>Universal</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/luckyrojo.jpg" alt="Lucky Stike rojo">
                                        <p>Lucky Stike rojo</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/luckyverde.jpg" alt="Lucky Stike verde">
                                        <p>Lucky Stike verde</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/caraotas1kg.jpg" alt="Caraotas Negras Pantera 1kg">
                                        <p>Caraotas Negras Pantera 1kg</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/caraotas500gr.jpg" alt="Caraotas Negras Pantera 500gr">
                                        <p>Caraotas Negras Pantera 500gr</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/cubitosmaggi.jpg" alt="Cubitos Maggi">
                                        <p>Cubitos Maggi</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/doñamaria.jpg" alt="Harina Doña María">
                                        <p>Harina Doña María</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/harinapan.jpg" alt="Harina Pan">
                                        <p>Harina Pan</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/kaly.jpg" alt="Harina Kaly">
                                        <p>Harina Kaly</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/leundante.jpg" alt="Harina Mary Leudante">
                                        <p>Harina Mary Leudante</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/todouso.jpg" alt="Harina Mary Todo Uso">
                                        <p>Harina Mary Todo Uso</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/lentejaspantera.jpg" alt="Lentejas Pantera">
                                        <p>Lentejas Pantera</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/mantequilladelineg.jpg" alt="Mantequilla Deline Grande">
                                        <p>Mantequilla Deline Grande</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/mantequilladelinep.jpg" alt="Mantequilla Deline Pequeña">
                                        <p>Mantequilla Deline Pequeña</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/mantequillanellyg.jpg" alt="Mantequilla Nelly Grande">
                                        <p>Mantequilla Nelly Grande</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/mantequillanellyp.jpg" alt="Mantequilla Nelly Pequeña">
                                        <p>Mantequilla Nelly Pequeña</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/mantequllamavesag.jpg" alt="Mantequilla Mavesa Grande">
                                        <p>Mantequilla Mavesa Grande</p>
                                    </div>
                                </div>
                                <div class="carousel-slide">
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/mantequllamavesap.jpg" alt="Mantequilla Mavesa Pequeña">
                                        <p>Mantequilla Mavesa Pequeña</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/panelada.jpg" alt="Panelada">
                                        <p>Panelada</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/salcelestial.jpg" alt="Sal Celestial">
                                        <p>Sal Celestial</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/productos/otros/yesquero.jpg" alt="Yesquero">
                                        <p>Yesquero</p>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-arrow next" onclick="changeSlide('otros', 1)">›</button>
                            <div class="carousel-dots" id="otros-dots">
                                <span class="dot active" onclick="goToSlide('otros', 0)"></span>
                                <span class="dot" onclick="goToSlide('otros', 1)"></span>
                                <span class="dot" onclick="goToSlide('otros', 2)"></span>
                                <span class="dot" onclick="goToSlide('otros', 3)"></span>
                                <span class="dot" onclick="goToSlide('otros', 4)"></span>
                                <span class="dot" onclick="goToSlide('otros', 5)"></span>
                                <span class="dot" onclick="goToSlide('otros', 6)"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="contact" class="contact section">
            <div class="container">
                <h2 class="section-title">Contacto</h2>
                <div class="contact-info">
                    <p>Puedes comunicarte con nosotros al correo:</p>
                    <p><a href="mailto:willianshousevnzla@gmail.com" class="contact-mail">willianshousevnzla@gmail.com</a></p>
                    <p>Síguenos en Instagram:</p>
                    <a href="https://www.instagram.com/willianshouse/" target="_blank" class="instagram-link">
                        <img src="img/icons/instagram.png" alt="Instagram" class="instagram-icon"> Instagram
                    </a>
                    <div class="map-iframe-container">
                        <p style="margin-top:2em; font-weight:bold;">Ubicación:</p>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d980.9172291902829!2d-66.8609537303883!3d10.447825318225169!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMTDCsDI2JzUyLjIiTiA2NsKwNTEnMzcuMSJX!5e0!3m2!1ses-419!2sve!4v1752076349001!5m2!1ses-419!2sve" width="100%" height="320" style="border:0; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,0.07); margin-top:0.5em;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="footer">
        <div class="container">
            <p>&copy; Willian’s House Market 2022 C.A.</p>
        </div>
    </footer>
    
    <!-- Botón Volver Arriba -->
    <button id="back-to-top" class="back-to-top" title="Volver arriba">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4L4 12H9V20H15V12H20L12 4Z" fill="currentColor"/>
        </svg>
    </button>
    
    <script>
        // Configuración de fondos
        const backgrounds = [
            'img/backgrounds/bg1.jpg',
            'img/backgrounds/bg2.jpg', 
            'img/backgrounds/bg3.jpg',
            'img/backgrounds/bg4.jpg',
            'img/backgrounds/bg5.jpg'
        ];
        
        let currentBgIndex = 0;
        const bgChangeInterval = 3000; // 3 segundos
        
        // Función para cambiar el fondo
        function changeBackground() {
            const nextBgIndex = (currentBgIndex + 1) % backgrounds.length;
            
            // Crear nueva imagen para precargar
            const newImg = new Image();
            newImg.onload = function() {
                // Cambiar el fondo directamente en el CSS
                document.documentElement.style.setProperty('--current-bg', `url('${backgrounds[nextBgIndex]}')`);
                currentBgIndex = nextBgIndex;
                console.log('Fondo cambiado a:', backgrounds[nextBgIndex]);
            };
            newImg.onerror = function() {
                console.error('Error cargando imagen:', backgrounds[nextBgIndex]);
            };
            newImg.src = backgrounds[nextBgIndex];
        }
        
        // Iniciar el cambio automático de fondos
        function startBackgroundRotation() {
            // Establecer el primer fondo
            document.documentElement.style.setProperty('--current-bg', `url('${backgrounds[0]}')`);
            console.log('Fondo inicial establecido:', backgrounds[0]);
            
            // Iniciar el intervalo
            setInterval(changeBackground, bgChangeInterval);
        }
        
        // Estado de los carruseles
        const carouselStates = {
            charcuteria: 0,
            limpieza: 0,
            reposteria: 0,
            otros: 0
        };

        // Configuración de slides por carrusel
        const carouselSlides = {
            charcuteria: 1,
            limpieza: 4,
            reposteria: 4,
            otros: 7
        };

        // Variable para controlar animaciones en curso
        let isAnimating = false;

        function changeSlide(carouselId, direction) {
            if (isAnimating) return;
            
            const currentSlide = carouselStates[carouselId];
            const totalSlides = carouselSlides[carouselId];
            
            let newSlide = currentSlide + direction;
            
            // Navegación circular
            if (newSlide < 0) {
                newSlide = totalSlides - 1;
            } else if (newSlide >= totalSlides) {
                newSlide = 0;
            }
            
            goToSlide(carouselId, newSlide);
        }

        function goToSlide(carouselId, slideIndex) {
            if (isAnimating) return;
            
            const slides = document.querySelectorAll(`#${carouselId}-slides .carousel-slide`);
            const dots = document.querySelectorAll(`#${carouselId}-dots .dot`);
            
            if (slideIndex === carouselStates[carouselId]) return;
            
            isAnimating = true;
            
            // Obtener slides actual y nueva
            const currentSlide = slides[carouselStates[carouselId]];
            const newSlide = slides[slideIndex];
            
            if (currentSlide && newSlide) {
                // Animación de salida
                currentSlide.classList.add('fade-out');
                
                setTimeout(() => {
                    // Ocultar slide actual
                    currentSlide.classList.remove('active', 'fade-out');
                    
                    // Configurar índices para animación escalonada
                    const items = newSlide.querySelectorAll('.carousel-item');
                    items.forEach((item, index) => {
                        item.style.setProperty('--item-index', index);
                    });
                    
                    // Mostrar nueva slide con animación de entrada
                    newSlide.classList.add('active', 'fade-in');
                    
                    setTimeout(() => {
                        newSlide.classList.remove('fade-in');
                        isAnimating = false;
                    }, 400);
                }, 200);
            } else {
                // Fallback para casos donde no hay animación
                slides.forEach(slide => {
                    slide.classList.remove('active', 'fade-out', 'fade-in');
                });
                
                if (newSlide) {
                    newSlide.classList.add('active');
                    
                    // Configurar índices para animación escalonada
                    const items = newSlide.querySelectorAll('.carousel-item');
                    items.forEach((item, index) => {
                        item.style.setProperty('--item-index', index);
                    });
                }
                isAnimating = false;
            }
            
            // Actualizar dots
            dots.forEach(dot => dot.classList.remove('active'));
            if (dots[slideIndex]) {
                dots[slideIndex].classList.add('active');
            }
            
            // Actualizar el estado
            carouselStates[carouselId] = slideIndex;
        }

        // Inicializar carruseles
        document.addEventListener('DOMContentLoaded', function() {
            // Configurar índices iniciales para animación escalonada
            const carouselIds = ['charcuteria', 'limpieza', 'reposteria', 'otros'];
            
            carouselIds.forEach(carouselId => {
                const activeSlide = document.querySelector(`#${carouselId}-slides .carousel-slide.active`);
                if (activeSlide) {
                    const items = activeSlide.querySelectorAll('.carousel-item');
                    items.forEach((item, index) => {
                        item.style.setProperty('--item-index', index);
                    });
                }
            });
            
            // Iniciar rotación de fondos
            startBackgroundRotation();
            
            // Inicializar menú hamburguesa
            initHamburgerMenu();
            
            // Inicializar botón volver arriba
            initBackToTop();
            
            console.log('Carruseles inicializados con animaciones y sistema de fondos activo');
        });

        // Función para inicializar el menú hamburguesa
        function initHamburgerMenu() {
            const hamburger = document.getElementById('hamburger-menu');
            const navMenu = document.getElementById('nav-menu');
            
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', function() {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });
                
                // Cerrar menú al hacer clic en un enlace
                const navLinks = navMenu.querySelectorAll('a');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        hamburger.classList.remove('active');
                        navMenu.classList.remove('active');
                    });
                });
                
                // Cerrar menú al hacer clic fuera de él
                document.addEventListener('click', function(event) {
                    if (!hamburger.contains(event.target) && !navMenu.contains(event.target)) {
                        hamburger.classList.remove('active');
                        navMenu.classList.remove('active');
                    }
                });
            }
        }

        // Función para inicializar el botón volver arriba
        function initBackToTop() {
            const backToTopButton = document.getElementById('back-to-top');
            
            if (backToTopButton) {
                // Mostrar/ocultar botón según el scroll
                window.addEventListener('scroll', function() {
                    if (window.pageYOffset > 300) {
                        backToTopButton.classList.add('show');
                    } else {
                        backToTopButton.classList.remove('show');
                    }
                });
                
                // Scroll suave hacia arriba al hacer clic
                backToTopButton.addEventListener('click', function() {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
        }
    </script>
</body>
</html>
